unit main;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, Vcl.StdCtrls, Vcl.ExtCtrls;

type
  TColor = (red, green, blue, white);
  TData = record
    day: 1..31;
    month: 1..12;
    year: word;
  end;
  TCard = record
    name: string[16];
    discription: string[127];
    marker: set of TColor;
    data: TData;
  end;
  TList = record
    name: string[16];
    lst: array[1..20] of TCard;
  end;
  TUser = record
    log: string[16];
    pass: string[16];
    id: word;
  end;
  Tapp = class(TForm)
    Label1: TLabel;
    Button1: TButton;
    boards_menu: TPanel;
    procedure FormClose(Sender: TObject; var Action: TCloseAction);
    procedure Button1Click(Sender: TObject);
    procedure FormShow(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
    l:string;
    userInf: TUser;
  end;

var
  app: Tapp;
  board: array[1..5] of TList;
  list: TList;
  card: TCard;
  im: array[1..10] of TImage;
  im1, im2, im3, im4, im5: TImage;
  board_count: byte;
  lft, top: integer;

implementation

{$R *.dfm}

uses login;

procedure Tapp.Button1Click(Sender: TObject);
var
  i, j: byte;
  f: file of TList;
begin
//  assignFile(f, 'users/user_id_1/q.txt');
//  reset(f);
//  for i := 1 to 5 do
//  begin
//    list.name := 'name';
//    for j := 1 to 20 do
//    begin
//      card.name := IntToStr(j);
//      card.discription := 'sd';
//      card.marker := [red];
//      card.data.day := 4;
//      card.data.month := 1;
//      card.data.year := 1234;
//      list.lst[j] := card;
//    end;
//    board[i] := list;
//    write(f, board[i]);
//  end;
//  closefile(f);

  if board_count mod 5 = 0 then
  begin
    top := top + 120;
    left := 55;
  end;


  inc(board_count);
  im[board_count] := TImage.Create(app);
  im[board_count].Parent := boards_menu;
  im[board_count].Height := 100;
  im[board_count].Width := 200;
  im[board_count].Top := top;
  im[board_count].Left := lft;
  im[board_count].Canvas.Brush.Color := rgb(255, 8, 127);
  im[board_count].Canvas.Rectangle(0, 0, 200, 100);
  lft := lft + 230;

//
//    im1 := TImage.Create(app);
//    im1.Parent := boards_menu;
//    im1.Width := 200;
//    im1.Height := 100;
//    im1.Top := 50;
//    im1.Left := 55;
//    im1.Canvas.Pen.Color := rgb(255, 150, 0);
//    im1.Canvas.Rectangle(0, 0, 200, 100);
//
//    im2 := TImage.Create(app);
//    im2.Parent := boards_menu;
//    im2.Width := 200;
//    im2.Height := 100;
//    im2.Top := 50;
//    im2.Left := im1.Left + 230;
//    im2.Canvas.Pen.Color := rgb(255, 12, 12);
//    im2.Canvas.Rectangle(0, 0, 200, 100);
//
//    im3 := TImage.Create(app);
//    im3.Parent := boards_menu;
//    im3.Width := 200;
//    im3.Height := 100;
//    im3.Top := 50;
//    im3.Left := im2.Left + 230;
//    im3.Canvas.Pen.Color := rgb(255, 12, 12);
//    im3.Canvas.Rectangle(0, 0, 200, 100);
//
//    im4 := TImage.Create(app);
//    im4.Parent := boards_menu;
//    im4.Width := 200;
//    im4.Height := 100;
//    im4.Top := 50;
//    im4.Left := im3.Left + 230;
//    im4.Canvas.Pen.Color := rgb(255, 12, 12);
//    im4.Canvas.Rectangle(0, 0, 200, 100);
//
//    im5 := TImage.Create(app);
//    im5.Parent := boards_menu;
//    im5.Width := 200;
//    im5.Height := 100;
//    im5.Top := 50;
//    im5.Left := im4.Left + 230;
//    im5.Canvas.Pen.Color := rgb(255, 12, 12);
//    im5.Canvas.Rectangle(0, 0, 200, 100);
end;

procedure Tapp.FormClose(Sender: TObject; var Action: TCloseAction);
begin
  Application.Terminate;
end;

procedure Tapp.FormShow(Sender: TObject);
begin
  lft := 55;
  userInf.log := loging.user.log;
  userInf.pass := loging.user.pass;
  userInf.id := loging.user.id;
  Label1.Caption := intToStr(userInf.id);
end;

end.
